apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: lightmare
  namespace: lightmare
spec:
  interval: 5m
  install:
    remediation:
      retries: 3
  upgrade:
    remediation:
      retries: 3
  chartRef:
    kind: OCIRepository
    name: lightmare
    namespace: flux-system
  values:
    operator:
      octopus: true
      image:
        repository: "fluencelabs/lightmare"
        tag: "0.7.2@sha256:8a93b797d28d32c41f7fbd3b9baa513280b3cd77b9b93cfe0db1d2d4a00e932f"
      config:
        k8s:
          cni: "ovn"
          publicNetwork: "kube-system/public"
        ccp:
          image:
            repository: "fluencelabs/ccp-cu-worker"
            tag: "0.16.12@sha256:82699d5fe834175c911fc064223ff09810a33274d12a6ac355dc36fdbd4743b6"
          memory: 2.48 gib
        chainAdapter:
          privateRPCTokenSecretRef: private-rpc-token-secret
